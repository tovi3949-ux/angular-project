<div class="task-card" cdkDrag>
  <div class="task-header">
    <span class="priority-badge" [ngClass]="getPriorityClass(task().priority)">
      {{ task().priority | titlecase }} Priority
    </span>
  </div>

  <div class="task-content">
    <h3 class="task-title">{{ task().title }}</h3>
    @if (task().description) {
      <p class="task-desc">{{ task().description | slice:0:60 }}{{ task().description.length > 60 ? '...' : '' }}</p>
    }
  </div>

  <div class="task-footer">
    <div class="task-meta">
      <mat-icon class="meta-icon">calendar_today</mat-icon>
      <span class="meta-text">{{ task().dueDate ? (task().dueDate | date:'shortDate') : 'No due date' }}</span>
    </div>
    <div class="task-actions">
      <button (click)="onUpdatePriority($event)" class="task-action-button priority-button" matTooltip="Update Priority">
        <mat-icon>flag</mat-icon>
        <span>Update Priority</span>
      </button>
      <button (click)="onTaskClick($event)" class="task-action-button">
        <mat-icon>arrow_forward</mat-icon>
        <span>View Details</span>
      </button>
    </div>
  </div>
</div>
